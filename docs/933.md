title:: leetcode/933
alias:: æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•° , Number of Recent Calls

- æˆ‘å°±æ²¡çœ‹æ‡‚è¿™é“é¢˜ç›®çš„æ„æ€æ˜¯ä»€ä¹ˆ ğŸ˜…ï¼Œåå¤çœ‹äº†å‡ éï¼Œåº”è¯¥æ˜¯æŒ‡æ¯æ¬¡ä¼ å…¥å¯¹è±¡ä¸€ä¸ªæ•°å€¼ï¼Œå¯¹è±¡ä¼šæŠŠå®ƒä¿å­˜èµ·æ¥ï¼Œç„¶åä¸‹æ¬¡å†ä¼ å…¥çš„æ—¶å€™è¿”å›æ»¡è¶³æŸä¸ªæ¡ä»¶çš„æ•°å€¼çš„æ•°é‡ã€‚
- æ ¹æ®è¿™ä¸ªç†è§£æˆ‘å†™äº†ä¸‹é¢è¿™æ®µä»£ç ï¼Œç†è§£ä¼¼ä¹æ²¡æœ‰é”™ï¼Œä½†æ‰§è¡Œè¶…æ—¶ã€‚
- ```python
  class RecentCounter:

      def __init__(self):
          self.requests = []

      def ping(self, t: int) -> int:
          self.requests.append(t)
          count = 0
          for r in self.requests:
              if t-3000 <= r <= t:
                  count += 1
          return count
  ```

## é¢˜è§£

- è¿™å¥—é¢˜ç›®ä¸­çš„ t è¡¨ç¤ºè°ƒç”¨ ping æ–¹æ³•çš„æ—¶é—´ï¼Œè¦æ±‚ ping è¿”å› 3000 æ¯«ç§’å†…æ‰§è¡Œçš„ ping çš„æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯å½“å‰çš„ t å‡å»ä¹‹å‰ t <= 3000 çš„ä¸ªæ•°ã€‚
- ```python
  from collections import deque

  class RecentCounter:

      def __init__(self):
          self.q = deque()

      def ping(self, t: int) -> int:
          self.q.append(t)
          while self.q and t - self.q[0] > 3000:
              self.q.popleft()
          return len(self.q)
  ```
- ä½¿ç”¨é˜Ÿåˆ—è§£å†³è¿™ä¸ªé—®é¢˜çš„æ€è·¯æ˜¯æ¯å½“ä¸€ä¸ªæ–°çš„è¯·æ±‚åŠ è¿›æ¥åï¼Œå°†é˜Ÿåˆ—ä¸­è¶…æ—¶ï¼ˆä¸å½“å‰è¯·æ±‚æ—¶é—´é—´éš”è¶…è¿‡ 3000ï¼‰çš„è¯·æ±‚å¼¹å‡ºï¼Œå‰©ä¸‹çš„å…ƒç´ æ„æˆçš„é˜Ÿåˆ—ä¸­é•¿åº¦å°±æ˜¯æ»¡è¶³æ¡ä»¶çš„è¯·æ±‚çš„æ•°é‡ã€‚
